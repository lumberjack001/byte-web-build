(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7881],{73559:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/settings/edit-profile",function(){return a(77735)}])},63240:function(e,n,a){"use strict";var s=a(85893),t=a(72063),r=function(e){var n=e.message;return(0,s.jsxs)("div",{className:"flex gap-1 items-center text-red-500 text-xs mt-2",children:[(0,s.jsx)(t.Z,{size:"14",color:"#ef4444"}),(0,s.jsx)("p",{className:"font-light mt-0 w-[95%]",children:n})]})};n.Z=r},81028:function(e,n,a){"use strict";var s=a(85893);a(67294);var t=a(92138),r=function(e){var n=e.color,a=e.size,r=e.icon,i=e.className;return(0,s.jsxs)("div",{className:"icon-shadow ".concat(i," flex flex-center"),children:[(0,s.jsx)(t.Z,{style:{marginTop:"0px"},icon:r,size:a,color:n})," "]})};n.Z=r},20823:function(e,n,a){"use strict";var s=a(85893),t=a(69614),r=a.n(t),i=function(e){var n=e.placeholder,a=e.type,t=e.onChange,i=e.onBlur,l=e.onFocus,o=e.name,c=e.value,u=e.readOnly,d=e.disabled;return(0,s.jsx)("input",{disabled:d,readOnly:u,className:r().input,placeholder:n,value:c,type:a,onChange:t,onBlur:i,name:o,onFocus:l})};n.Z=i},82545:function(e,n,a){"use strict";var s=a(85893),t=a(85254),r=a.n(t),i=function(e){var n=e.placeholder,a=e.type,t=e.onChange,i=e.onBlur,l=e.onFocus,o=e.name,c=e.value,u=e.readOnly;return(0,s.jsx)("div",{className:r().container,children:(0,s.jsxs)("div",{className:r().inputContainer,children:[(0,s.jsx)("div",{className:r().currency,children:(0,s.jsx)("div",{children:"+234"})}),(0,s.jsx)("input",{readOnly:u,className:r().input,placeholder:n,value:c,type:a,onChange:t,onBlur:i,name:o,onFocus:l})]})})};n.Z=i},62523:function(e,n,a){"use strict";var s=a(85893),t=a(24881),r=a.n(t),i=function(e){var n=e.placeholder,a=e.rows,t=e.value,i=e.name,l=e.onChange,o=e.onBlur,c=e.onFocus,u=e.readOnly;return(0,s.jsx)("textarea",{readOnly:u,onChange:l,onBlur:o,value:t,name:i,onFocus:c,rows:a,className:r().textArea,placeholder:n})};n.Z=i},77735:function(e,n,a){"use strict";a.r(n);var s=a(26042),t=a(69396),r=a(70603),i=a(85893),l=a(82580),o=a(9008),c=a.n(o),u=a(25675),d=a.n(u),p=a(11163),m=a(67294),h=a(44524),x=a(91444),f=a(16310),j=a(70757),v=a(74975),g=a(93890),N=a(63240),_=a(81028),w=a(20823),y=a(82545),Z=a(62523),b=a(5875),C=a(22699),B=a(5753),E=a(79405),F=function(){var e=(0,m.useState)({path:"",preview:"",name:"",size:0,type:"",webkitRelativePath:""}),n=e[0],a=e[1],o=(0,m.useState)([]),u=o[0],j=o[1],v=(0,m.useState)(""),F=v[0],R=v[1],q=(0,p.useRouter)(),O=(0,C.C)(B.uy).administrator,P=(0,h.uI)({accept:{"image/*":[".png",".jpeg",".jpg"]},maxFiles:1,multiple:!1,maxSize:5242880,onDrop:function(e){R(""),j(e.map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))},onDropRejected:function(e,n){R("file shouldn't be more than 5mb"),console.log("files: ",e),console.log("event: ",n)}}),k=P.getRootProps,z=P.getInputProps,A=(0,r.Z)((0,E.qf)(),2),I=A[0],S=A[1].isLoading;return(0,m.useEffect)(function(){q.prefetch("/dashboard/settings")},[q]),(0,m.useEffect)(function(){a(u[0])},[u]),(0,i.jsxs)("div",{children:[(0,i.jsxs)(c(),{children:[(0,i.jsx)("title",{children:"Edit profile - Byte"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,i.jsx)(l.J9,{enableReinitialize:!0,initialValues:{firstName:O.firstName||"",lastName:O.lastName||"",phone:O.phone||"",email:O.email||"",address:O.address||""},onSubmit:function(e){I((0,b.D)(e)).unwrap().then(function(e){x.Am.success((null==e?void 0:e.message)||"Profile updated successfully!"),q.push("/dashboard/settings")}).catch(function(e){var n;x.Am.error((null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to update profile")})},validationSchema:f.Ry({firstName:f.Z_().required("Required"),lastName:f.Z_().required("Required"),phone:f.Z_().required("Required"),email:f.Z_().email().required("Required"),address:f.Z_().required("Required")}),children:function(e){var a=e.values,r=e.touched,o=e.errors,c=e.handleChange,u=e.handleBlur,p=e.dirty,m=e.isValid;return(0,i.jsxs)(l.l0,{className:"flex w-full flex-col gap-8",children:[(0,i.jsx)("div",{className:"w-full flex items-center justify-center mb-4",children:(0,i.jsxs)("div",(0,t.Z)((0,s.Z)({},k()),{className:"w-full flex flex-col items-center gap-3",children:[(0,i.jsx)("input",(0,s.Z)({},z())),(null==n?void 0:n.preview)?(0,i.jsx)("span",{className:"rounded-[50%] bg-[#F0F2F5] h-[70px] w-[70px] inline-flex items-center justify-center overflow-hidden",children:(0,i.jsx)(d(),{objectFit:"cover",className:"rounded-[50%]",height:"70px",width:"70px",src:n.preview,alt:""})}):(0,i.jsx)(_.Z,{icon:"user",color:"var(--neutral06)",size:"24",className:"grey medium"}),(0,i.jsxs)("div",{className:"w-fit flex flex-col items-center text-center gap-1",children:[F&&(0,i.jsx)("span",{className:"text-red-500 text-sm font-normal mx-auto",children:F}),(0,i.jsxs)("p",{className:"font-normal text-center text-base text-[#6A78D1] w-full",children:[" ","Change profile photo"]})]})]}))}),(0,i.jsxs)("div",{className:"w-full grid grid-cols-3 gap-x-4 gap-y-6",children:[(0,i.jsxs)("label",{className:"input-wrapper",children:[(0,i.jsx)("span",{children:"First name"}),(0,i.jsx)(w.Z,{name:"firstName",onChange:c,onBlur:u,value:a.firstName,placeholder:"Enter first name",type:"text"}),r.firstName&&o.firstName&&(0,i.jsx)(N.Z,{message:o.firstName||""})]}),(0,i.jsxs)("label",{className:"input-wrapper",children:[(0,i.jsx)("span",{children:"Last name"}),(0,i.jsx)(w.Z,{name:"lastName",onChange:c,onBlur:u,value:a.lastName,placeholder:"Enter last name",type:"text"}),r.lastName&&o.lastName&&(0,i.jsx)(N.Z,{message:o.lastName||""})]}),(0,i.jsxs)("label",{className:"input-wrapper",children:[(0,i.jsx)("span",{children:"Phone number"}),(0,i.jsx)(y.Z,{name:"phone",onChange:c,onBlur:u,value:a.phone,placeholder:"Enter phone number",type:"text"}),r.phone&&o.phone&&(0,i.jsx)(N.Z,{message:o.phone||""})]}),(0,i.jsxs)("label",{className:"input-wrapper",children:[(0,i.jsx)("span",{children:"Email address"}),(0,i.jsx)(w.Z,{name:"email",onChange:c,onBlur:u,value:a.email,placeholder:"Enter email address",type:"text"}),r.email&&o.email&&(0,i.jsx)(N.Z,{message:o.email||""})]}),(0,i.jsxs)("label",{className:"input-wrapper",children:[(0,i.jsx)("span",{children:" Address"}),(0,i.jsx)(Z.Z,{rows:6,name:"address",onChange:c,onBlur:u,value:a.address,placeholder:"Enter address"}),r.address&&o.address&&(0,i.jsx)(N.Z,{message:o.address||""})]})]}),(0,i.jsx)("div",{className:"w-full grid grid-cols-4",children:(0,i.jsx)(g.Z,{disabled:!p||!m||S,loading:S,title:"Save Changes",type:"large",color:"btnPrimary"})})]})}})]})};F.getLayout=function(e){return(0,i.jsx)(v.Z,{children:(0,i.jsx)(j.Z,{enableBackBtn:!0,headerTitle:"Edit profile",children:e})})},n.default=F},69614:function(e){e.exports={input:"Input_input__Ik0ZP"}},85254:function(e){e.exports={container:"phone-input_container__CfFGI",input:"phone-input_input__sg5ds",inputContainer:"phone-input_inputContainer__9_i0I",currency:"phone-input_currency__UeJo7","no-outline":"phone-input_no-outline__GIsPT"}},24881:function(e){e.exports={textArea:"textarea_textArea__BmNtB"}}},function(e){e.O(0,[9429,6735,7700,7279,4524,2235,1843,9774,2888,179],function(){return e(e.s=73559)}),_N_E=e.O()}]);