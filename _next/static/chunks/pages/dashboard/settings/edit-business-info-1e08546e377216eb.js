(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8831],{82296:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/settings/edit-business-info",function(){return a(12342)}])},63240:function(e,n,a){"use strict";var l=a(85893),t=a(72063),s=function(e){var n=e.message;return(0,l.jsxs)("div",{className:"flex gap-1 items-center text-red-500 text-xs mt-2",children:[(0,l.jsx)(t.Z,{size:"14",color:"#ef4444"}),(0,l.jsx)("p",{className:"font-light mt-0 w-[95%]",children:n})]})};n.Z=s},81028:function(e,n,a){"use strict";var l=a(85893);a(67294);var t=a(92138),s=function(e){var n=e.color,a=e.size,s=e.icon,i=e.className;return(0,l.jsxs)("div",{className:"icon-shadow ".concat(i," flex flex-center"),children:[(0,l.jsx)(t.Z,{style:{marginTop:"0px"},icon:s,size:a,color:n})," "]})};n.Z=s},20823:function(e,n,a){"use strict";var l=a(85893),t=a(69614),s=a.n(t),i=function(e){var n=e.placeholder,a=e.type,t=e.onChange,i=e.onBlur,r=e.onFocus,o=e.name,c=e.value,u=e.readOnly,d=e.disabled;return(0,l.jsx)("input",{disabled:d,readOnly:u,className:s().input,placeholder:n,value:c,type:a,onChange:t,onBlur:i,name:o,onFocus:r})};n.Z=i},12342:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return R}});var l=a(99534),t=a(70603),s=a(85893),i=a(82580),r=a(9008),o=a.n(r),c=a(11163),u=a(67294),d=a(97156),p=a(91444),v=a(16310),x=a(70757),m=a(74975),h=a(26042),f=a(69396),g=a(25675),b=a.n(g),j=a(44524),y=a(62339),w=a(5875),Z=a(22699),N=a(5753),C=a(79405),F=a(93890),P=a(81028),S=function(){var e=(0,u.useState)({path:"",preview:"",name:"",size:0,type:"",webkitRelativePath:""}),n=e[0],a=e[1],l=(0,u.useState)([]),i=l[0],r=l[1],o=(0,u.useState)(""),d=o[0],v=o[1],x=(0,u.useState)(!1),m=x[0],g=x[1],S=(0,c.useRouter)(),_=(0,Z.C)(N.uy),E=(0,j.uI)({accept:{"image/*":[".png",".jpeg",".jpg"]},maxFiles:1,multiple:!1,maxSize:5242880,onDrop:function(e){g(!1),v(""),r(e.map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))},onDropRejected:function(e,n){v("file shouldn't be more than 5mb"),console.log("files: ",e),console.log("event: ",n)}}),k=E.getRootProps;E.getInputProps;var R=(0,t.Z)((0,C.MU)(),2),B=R[0],O=R[1].isLoading,q=function(){var e={avatar:n.path};B((0,w.D)(e)).unwrap().then(function(e){p.Am.success((null==e?void 0:e.message)||"Profile image uploaded!"),S.push("/dashboard/settings")}).catch(function(e){var n;p.Am.error((null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to upload profile image")})};return(0,u.useEffect)(function(){S.prefetch("/dashboard/settings")},[S]),(0,u.useEffect)(function(){g(!(0,y.x)(_.image))},[_]),(0,u.useEffect)(function(){a(i[0])},[i]),(0,s.jsx)("div",{className:"w-full flex items-center justify-center mb-4",children:m?(0,s.jsxs)("div",(0,f.Z)((0,h.Z)({},k()),{className:"w-full flex flex-col items-center gap-5 text-center",children:[(0,s.jsx)("span",{className:"rounded-[50%] bg-[#F0F2F5] h-[70px] w-[70px] inline-flex items-center justify-center overflow-hidden",children:(0,s.jsx)(b(),{objectFit:"cover",className:"rounded-[50%]",height:"70px",width:"70px",src:_.image||"",alt:""})}),(0,s.jsx)("div",{className:"w-fit flex flex-col items-center text-center gap-1",children:(0,s.jsx)(F.Z,{title:"Change profile photo",type:"block",color:"btnPrimary"})})]})):(null==n?void 0:n.preview)?(0,s.jsxs)("div",{className:"w-full flex flex-col items-center gap-5 text-center",children:[(0,s.jsx)("span",{className:"rounded-[50%] bg-[#F0F2F5] h-[70px] w-[70px] inline-flex items-center justify-center overflow-hidden",children:(0,s.jsx)(b(),{objectFit:"cover",className:"rounded-[50%]",height:"70px",width:"70px",src:n.preview?n.preview:_.image||"",alt:""})}),(0,s.jsx)("div",{className:"w-fit flex flex-col items-center text-center gap-1",children:(0,s.jsx)(F.Z,{disabled:O,loading:O,click:q,title:"Upload image",type:"block",color:"btnPrimary"})})]}):(0,s.jsxs)("div",(0,f.Z)((0,h.Z)({},k()),{className:"w-full flex flex-col items-center gap-5 text-center",children:[(0,s.jsx)(P.Z,{icon:"d-cube-scan",color:"var(--neutral06)",size:"24",className:"grey medium"}),(0,s.jsxs)("div",{className:"w-fit flex flex-col items-center text-center gap-1",children:[d&&(0,s.jsx)("span",{className:"text-red-500 text-sm font-normal mx-auto",children:d}),(0,s.jsxs)("p",{className:"font-normal text-center text-base text-[#6A78D1] w-full",children:[" ","Change profile photo"]})]})]}))})},_=a(63240),E=a(20823),k=function(){var e=(0,c.useRouter)(),n=(0,Z.C)(N.uy),a=[{label:"Food & Drinks: Restaurant - Bar - Private chef - Snack and Pastries",value:"Food & Drinks"},{label:"Fitness and Spa",value:"Fitness and Spa"},{label:"Fashion",value:"Fashion"},{label:"Supermarket",value:"Supermarket"},{label:"Electronics",value:"Electronics"},{label:"Baby Products",value:"Baby Products"},{label:"Dry Cleaning",value:"Dry Cleaning"},{label:"Game shop",value:"Game shop"},{label:"Gas Stations",value:"Gas Stations"},{label:"Hair Salons",value:"Hair Salons"},{label:"Cosmetics",value:"Cosmetics"},{label:"Grocery stores",value:"Grocery stores"},{label:"Construction",value:"Construction"},{label:"Phones, Accessories & Gadget",value:"Phones, Accessories & Gadget"},{label:"Pharmacy",value:"Pharmacy"},{label:"Home and kitchen Appliances",value:"Home and kitchen Appliances"},{label:"Agency",value:"Agency"},{label:"Freelancer",value:"Freelancer"},{label:"Other",value:"Other"},],r=(0,t.Z)((0,C.uf)(),2),x=r[0],m=r[1].isLoading;return(0,u.useEffect)(function(){e.prefetch("/dashboard/settings")},[e]),(0,s.jsxs)("div",{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:"Edit business info - Byte"}),(0,s.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,s.jsx)(i.J9,{enableReinitialize:!0,initialValues:{name:n.name||"",address:n.address||"",category:n.category||"",description:n.description||"",location:n.location},onSubmit:function(n){var a=n.name,t=(0,l.Z)(n,["name"]);console.log(a),x(t).unwrap().then(function(n){p.Am.success((null==n?void 0:n.message)||"Profile updated successfully!"),e.push("/dashboard/settings")}).catch(function(e){var n;p.Am.error((null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to update profile")})},validationSchema:v.Ry({name:v.Z_().required("Required"),address:v.Z_().required("Required"),description:v.Z_().required("Required"),category:v.Z_().required("Required"),location:v.Ry().shape({city:v.Z_().required("Required"),state:v.Z_().required("Required"),country:v.Z_().required("Required")})}),children:function(e){var n,l,t,r,o,c,u,p,v,x,h,f,g=e.values,b=e.touched,j=e.errors,y=e.handleChange,w=e.handleBlur,Z=e.dirty,N=e.isValid,C=e.setFieldValue;return(0,s.jsxs)(i.l0,{className:"flex w-full flex-col gap-8",children:[(0,s.jsx)(S,{}),(0,s.jsxs)("div",{className:"w-full grid grid-cols-3 gap-x-4 gap-y-6",children:[(0,s.jsxs)("label",{className:"input-wrapper",children:[(0,s.jsx)("span",{children:"Business legal name"}),(0,s.jsx)(E.Z,{disabled:!0,name:"name",onChange:y,onBlur:w,value:g.name,placeholder:"Enter business name",type:"text"}),b.name&&j.name&&(0,s.jsx)(_.Z,{message:j.name||""})]}),(0,s.jsxs)("label",{className:"input-wrapper",children:[(0,s.jsx)("span",{children:"Address"}),(0,s.jsx)(E.Z,{name:"address",onChange:y,onBlur:w,value:g.address,placeholder:"Enter address",type:"text"}),b.address&&j.address&&(0,s.jsx)(_.Z,{message:j.address||""})]}),(0,s.jsxs)("label",{className:"input-wrapper",children:[(0,s.jsx)("span",{children:"City"}),(0,s.jsx)(E.Z,{name:"location.city",onChange:y,onBlur:w,value:(null==g?void 0:null===(n=g.location)||void 0===n?void 0:n.city)||"",placeholder:"Enter city",type:"text"}),(null==b?void 0:null===(l=b.location)||void 0===l?void 0:l.city)&&(null==j?void 0:null===(t=j.location)||void 0===t?void 0:t.city)&&(0,s.jsx)(_.Z,{message:(null==j?void 0:null===(r=j.location)||void 0===r?void 0:r.city)||""})]}),(0,s.jsxs)("label",{className:"input-wrapper",children:[(0,s.jsx)("span",{children:"State"}),(0,s.jsx)(E.Z,{name:"location.state",onChange:y,onBlur:w,value:(null==g?void 0:null===(o=g.location)||void 0===o?void 0:o.state)||"",placeholder:"Enter state",type:"text"}),(null==b?void 0:null===(c=b.location)||void 0===c?void 0:c.state)&&(null==j?void 0:null===(u=j.location)||void 0===u?void 0:u.state)&&(0,s.jsx)(_.Z,{message:(null==j?void 0:null===(p=j.location)||void 0===p?void 0:p.state)||""})]}),(0,s.jsxs)("label",{className:"input-wrapper",children:[(0,s.jsx)("span",{children:"Country"}),(0,s.jsx)(E.Z,{name:"location.country",onChange:y,onBlur:w,value:(null==g?void 0:null===(v=g.location)||void 0===v?void 0:v.country)||"",placeholder:"Enter country",type:"text"}),(null==b?void 0:null===(x=b.location)||void 0===x?void 0:x.country)&&(null==j?void 0:null===(h=j.location)||void 0===h?void 0:h.country)&&(0,s.jsx)(_.Z,{message:(null==j?void 0:null===(f=j.location)||void 0===f?void 0:f.country)||""})]}),(0,s.jsxs)("label",{className:"input-wrapper",children:[(0,s.jsx)("span",{children:"Nature of business"}),(0,s.jsx)(E.Z,{name:"description",onChange:y,onBlur:w,value:g.description,placeholder:"Enter business description",type:"text"}),b.description&&j.description&&(0,s.jsx)(_.Z,{message:j.description||""})]}),(0,s.jsxs)("label",{className:"input-wrapper",children:[(0,s.jsx)("span",{children:"Business Category"}),(0,s.jsx)(d.ZP,{classNames:{control:function(e){return e.isFocused?"border-red-600 h-[48px] w-full mt-1 !rounded-xl":"border-grey-300 h-[48px] w-full mt-1 !rounded-xl"},indicatorSeparator:function(){return"!bg-transparent"},valueContainer:function(){return"!px-3"}},name:"category",value:a.find(function(e){return e.value===g.category}),onChange:function(e){C("category",(null==e?void 0:e.value)||"")},placeholder:"Select business category",options:a}),b.category&&j.category&&(0,s.jsx)(_.Z,{message:j.category||""})]})]}),(0,s.jsx)("div",{className:"w-full grid grid-cols-4",children:(0,s.jsx)(F.Z,{disabled:!Z||!N||m,loading:m,title:"Save Changes",type:"large",color:"btnPrimary"})})]})}})]})};k.getLayout=function(e){return(0,s.jsx)(m.Z,{children:(0,s.jsx)(x.Z,{enableBackBtn:!0,headerTitle:"Edit business info",children:e})})};var R=k},69614:function(e){e.exports={input:"Input_input__Ik0ZP"}},99534:function(e,n,a){"use strict";function l(e,n){if(null==e)return{};var a,l,t=function(e,n){if(null==e)return{};var a,l,t={},s=Object.keys(e);for(l=0;l<s.length;l++)a=s[l],n.indexOf(a)>=0||(t[a]=e[a]);return t}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)a=s[l],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}a.d(n,{Z:function(){return l}})}},function(e){e.O(0,[9429,6735,7700,7279,7156,4524,2235,1843,9774,2888,179],function(){return e(e.s=82296)}),_N_E=e.O()}]);