(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{2990:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/tools/record/create/expense",function(){return l(22546)}])},22546:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return C}});var n=l(85893),r=l(9008),s=l.n(r),a=l(67294),i=l(70757),c=l(74975),o=l(26042),d=l(70603),u=l(82580),x=l(11163),f=l(91444),p=l(16310),m=l(79405),h=l(98423),j=l(93890),v=l(63240),g=l(20823),b=l(62523),y=function(){var e=(0,x.useRouter)(),t=(0,d.Z)((0,m.iL)(),2),l=t[0],r=t[1].isLoading;return(0,n.jsx)("div",{className:"h-full w-full flex items-center justify-center",children:(0,n.jsx)(u.J9,{enableReinitialize:!0,initialValues:{expenseCategory:"",description:"",type:"expense",dealType:"product",date:"2023-01-01",totalAmount:0,products:[{name:"",quantity:0,unitPrice:0},]},onSubmit:function(t){l((0,o.Z)({},t)).unwrap().then(function(){f.Am.success("Expense record created successfully!"),e.replace("/dashboard/tools/record?recordType=2")}).catch(function(e){var t;f.Am.error((null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)||"Couldn't create record")})},validationSchema:p.Ry({expenseCategory:p.Z_().required("Required"),description:p.Z_().required("Required"),date:p.hT().required("Required"),products:p.IX().of(p.Ry().shape({name:p.Z_().required("Required"),quantity:p.Rx().min(1,"can't be less than 1").required("Required"),unitPrice:p.Rx().min(5,"can't be less than ₦5").required("Required")}))}),children:function(e){var t=e.values,l=e.touched,s=e.errors,a=e.handleChange,i=e.handleBlur,c=e.handleSubmit,o=e.setFieldValue,d=e.dirty;return(0,n.jsxs)(u.l0,{onSubmit:function(e){return e.preventDefault()},className:"flex flex-col w-full h-full gap-6",children:[(0,n.jsx)("div",{className:"w-full flex-col flex gap-6",children:(0,n.jsx)(u.F2,{name:"products",render:function(e){var l=e.push,r=e.remove,s=e.replace;return(0,n.jsx)(n.Fragment,{children:(null==t?void 0:t.products)!==void 0&&(null==t?void 0:t.products).map(function(e,c){return(0,n.jsx)(h.Z,{product:e,productIndex:c,values:t,push:l,replace:s,remove:r,handleChange:a,handleBlur:i,setFieldValue:o},c)})})}})}),(0,n.jsxs)("div",{className:"flex w-full h-fit flex-col border p-4 border-[#E6EAED] rounded-2xl gap-4",children:[(0,n.jsx)("p",{className:"w-full p-4 border-b border-[#D0D6DB] text-sm text-[#5864AE]",children:"Other information"}),(0,n.jsxs)("div",{className:"w-full grid grid-cols-3 gap-4",children:[(0,n.jsxs)("label",{className:"w-full flex flex-col gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-[#30333B] font-normal",children:"Category"}),(0,n.jsx)(g.Z,{name:"expenseCategory",onChange:a,onBlur:i,value:t.expenseCategory,placeholder:"Enter category",type:"text"}),l.expenseCategory&&s.expenseCategory&&(0,n.jsx)(v.Z,{message:s.expenseCategory||""})]}),(0,n.jsxs)("label",{className:"w-full flex flex-col gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-[#30333B] font-normal",children:"Description"}),(0,n.jsx)(b.Z,{rows:5,name:"description",onChange:a,onBlur:i,value:t.description,placeholder:"Enter description"}),l.description&&s.description&&(0,n.jsx)(v.Z,{message:s.description||""})]}),(0,n.jsxs)("label",{className:"w-full flex flex-col gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-[#30333B] font-normal",children:"Date"}),(0,n.jsx)(g.Z,{name:"date",onChange:a,onBlur:i,value:new Date(t.date).toLocaleDateString("en-CA")||"2022-01-01",placeholder:"Date",type:"date"}),l.date&&s.date&&(0,n.jsx)(v.Z,{message:s.date||""})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-start gap-6 pb-6",children:[(0,n.jsxs)("div",{className:"flex justify-between py-4 px-6 bg-[#F8F9FA] rounded-2xl w-full",children:[(0,n.jsx)("p",{className:"text-[#808691] text-base font-normal",children:"Total Amount"}),(0,n.jsx)("p",{className:"text-[#19A97B] text-xl font-normal",children:"₦".concat(t.totalAmount.toLocaleString("en-US"))})]}),(0,n.jsx)(j.Z,{loading:r,disabled:!d||r,click:c,title:"Create Invoice",iconPosition:"right",icon:"invoice",type:"large",color:"btnPrimary"})]})]})}})})},w=l(45812),N=function(){var e=(0,x.useRouter)(),t=(0,d.Z)((0,m.iL)(),2),l=t[0],r=t[1].isLoading;return(0,n.jsx)("div",{className:"h-full w-full flex items-center justify-center",children:(0,n.jsx)(u.J9,{enableReinitialize:!0,initialValues:{description:"",type:"expense",dealType:"service",date:"2023-01-01",totalAmount:0,services:[{name:"",cost:0},]},onSubmit:function(t){l((0,o.Z)({},t)).unwrap().then(function(){f.Am.success("Expense record created successfully!"),e.replace("/dashboard/tools/record?recordType=2")}).catch(function(e){var t;f.Am.error((null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)||"Couldn't create record")})},validationSchema:p.Ry({description:p.Z_().required("Required"),date:p.hT().required("Required"),services:p.IX().of(p.Ry().shape({name:p.Z_().required("Required"),cost:p.Rx().min(5,"can't be less than ₦5").required("Required")}))}),children:function(e){var t=e.values,l=e.touched,s=e.errors,a=e.handleChange,i=e.handleBlur,c=e.handleSubmit,o=e.setFieldValue,d=e.dirty;return(0,n.jsxs)(u.l0,{onSubmit:function(e){return e.preventDefault()},className:"flex flex-col w-full h-full gap-6",children:[(0,n.jsx)("div",{className:"w-full flex-col flex gap-6",children:(0,n.jsx)(u.F2,{name:"services",render:function(e){var l=e.push,r=e.remove;return(0,n.jsx)(w.Z,{values:t,push:l,remove:r,handleChange:a,handleBlur:i,setFieldValue:o})}})}),(0,n.jsxs)("div",{className:"flex w-full h-fit flex-col border p-4 border-[#E6EAED] rounded-2xl gap-4",children:[(0,n.jsx)("p",{className:"w-full p-4 border-b border-[#D0D6DB] text-sm text-[#5864AE]",children:"Other information"}),(0,n.jsxs)("div",{className:"w-full grid grid-cols-3 gap-4",children:[(0,n.jsxs)("label",{className:"w-full flex flex-col gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-[#30333B] font-normal",children:"Description"}),(0,n.jsx)(b.Z,{rows:5,name:"description",onChange:a,onBlur:i,value:t.description,placeholder:"Enter description"}),l.description&&s.description&&(0,n.jsx)(v.Z,{message:s.description||""})]}),(0,n.jsxs)("label",{className:"w-full flex flex-col gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-[#30333B] font-normal",children:"Date"}),(0,n.jsx)(g.Z,{name:"date",onChange:a,onBlur:i,value:new Date(t.date).toLocaleDateString("en-CA")||"2022-01-01",placeholder:"Date",type:"date"}),l.date&&s.date&&(0,n.jsx)(v.Z,{message:s.date||""})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-start gap-6 pb-6",children:[(0,n.jsxs)("div",{className:"flex justify-between py-4 px-6 bg-[#F8F9FA] rounded-2xl w-full",children:[(0,n.jsx)("p",{className:"text-[#808691] text-base font-normal",children:"Total Amount"}),(0,n.jsx)("p",{className:"text-[#19A97B] text-xl font-normal",children:"₦".concat(t.totalAmount.toLocaleString("en-US"))})]}),(0,n.jsx)(j.Z,{loading:r,disabled:!d||r,click:c,title:"Create Invoice",iconPosition:"right",icon:"invoice",type:"large",color:"btnPrimary"})]})]})}})})},A=function(){var e=(0,a.useState)(1),t=e[0],l=e[1];return(0,n.jsxs)("div",{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"Add expense record - Byte"}),(0,n.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,n.jsxs)("section",{className:"h-full w-full flex flex-col items-center gap-6",children:[(0,n.jsxs)("div",{className:"w-full flex items-center justify-center border-b border-[#E6EAED]",children:[(0,n.jsx)("button",{onClick:function(){return l(1)},className:"py-3 px-4 inline-flex items-center justify-center text-sm font-normal w-[25%] ".concat(1===t?"border-b border-[#5864AE] text-[#5864AE]":"text-[#808691]"),children:"Item details"}),(0,n.jsx)("button",{onClick:function(){return l(2)},className:"py-3 px-4 inline-flex items-center justify-center text-sm font-normal w-[25%] ".concat(2===t?"border-b border-[#5864AE] text-[#5864AE]":"text-[#808691]"),children:"Service details"})]}),(0,n.jsx)("main",{className:"flex w-full h-full",children:1===t?(0,n.jsx)(y,{}):(0,n.jsx)(N,{})})]})]})};A.getLayout=function(e){return(0,n.jsx)(c.Z,{children:(0,n.jsx)(i.Z,{enableBackBtn:!0,headerTitle:"Add expense record",children:e})})};var C=A}},function(e){e.O(0,[9429,6735,7700,7279,7156,2235,1843,7043,9774,2888,179],function(){return e(e.s=2990)}),_N_E=e.O()}]);